<div class="form p-5 bg-white border-pixel flex flex-col gap-5">
  <div class="flex flex-row justify-between items-center gap-5">
    <h3 class="text-sm font-medium text-gray-500">
      Formulario para crear un locke.
    </h3>
    <button (click)="closeModal()" class="btn-iniciar px-2 py-1 bg-red-600">
      Close
    </button>
  </div>
  <div class="grid grid-cols-1 gap-5">
    <form class="flex flex-col gap-5" [formGroup]="form" (submit)="onSubmit()">
      <div class="flex flex-col gap-2">
        <label for="" class="text-sm font-title">Nombre del locke</label>
        <input
          formControlName="name"
          type="text"
          class="border-pixel-input p-5"
        />
        @if (form.get('name')?.hasError('required') &&
        form.get('name')?.touched) {
        <small class="text-base text-red-600">Required Field</small>
        }
      </div>
      <div class="flex flex-col gap-2">
        <label for="" class="text-sm font-title">Descripcion del locke</label>
        <textarea
          formControlName="description"
          class="border-pixel-input rounded-2xl p-5"
        ></textarea>
        @if (form.get('description')?.hasError('required') &&
        form.get('description')?.touched) {
        <small class="text-base text-red-600">Required Field</small>
        }
      </div>
      <div class="flex flex-col gap-2">
        <label for="" class="text-sm font-title">Numero de vidas</label>
        <input
          formControlName="lifes"
          type="number"
          class="border-pixel-input p-5"
        />
        @if (form.get('lifes')?.hasError('required') &&
        form.get('lifes')?.touched) {
        <small class="text-base text-red-600">Required Field</small>
        }
      </div>
      <div class="flex flex-col gap-2">
        <label for="" class="text-sm font-title"
          >Seleccione el grupo que se asignara el locke</label
        >
        <select
          name=""
          id=""
          formControlName="group_id"
          class="border-pixel-input"
        >
          @for (group of data.groups; track $index) {
          <option [value]="group.id">{{ group.name }}</option>
          }
        </select>
        @if (form.get('group_id')?.hasError('required') &&
        form.get('group_id')?.touched) {
        <small class="text-base text-red-600">Required Field</small>
        }
      </div>
      @if (data.groups) {
      <button
        type="submit"
        class="self-center btn-iniciar px-4 py-3 bg-blue-600"
      >
        Crear Locke
      </button>
      } @else {
      <div class="flex justify-center">
        <div
          class="bg-amber-500 px-3 py-2 flex flex-row gap-2 items-center border-pixel"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="size-8"
            viewBox="0 0 32 32"
          >
            <rect width="32" height="32" fill="none" />
            <path
              fill="currentColor"
              d="M30.48 24.38h-1.53v-3.05h-1.52v-3.04H25.9v-3.05h-1.52v-3.05h-1.52V9.14h-1.53V6.09h-1.52V3.05h-1.52V1.52h-1.53V0h-1.52v1.52h-1.53v1.53h-1.52v3.04h-1.52v3.05H9.14v3.05H7.62v3.05H6.09v3.05H4.57v3.04H3.05v3.05H1.52v3.05H0v3.05h1.52V32h28.96v-1.52H32v-3.05h-1.52Zm-10.67 3.05h-1.52v1.52h-4.58v-1.52h-1.52v-4.57h1.52v-1.53h4.58v1.53h1.52Zm0-10.67h-1.52v3.05h-4.58v-3.05h-1.52v-6.09h1.52V9.14h4.58v1.53h1.52Z"
            />
            <path
              fill="currentColor"
              d="M16.76 12.19h1.53v3.05h-1.53Zm-1.52-1.52h1.52v1.52h-1.52Z"
            />
          </svg>
          <span class="font-title text-sm"
            >Remind create a group for create a locke</span
          >
        </div>
      </div>
      }
    </form>
  </div>
</div>
